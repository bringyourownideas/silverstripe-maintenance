!function(){"use strict";var e={117:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(594)),n=s(r(935)),l=s(r(815)),o=r(556),i=s(r(20));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}class c extends a.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.state={popoverOpen:!1}}toggle(e){return this.setState((e=>({popoverOpen:!e.popoverOpen}))),e.preventDefault(),!1}renderSecurityAlerts(){const{securityAlerts:e}=this.props.dataSchema;return e&&e.length?a.default.createElement("div",{className:"package-summary__security-alerts alert alert-warning"},a.default.createElement("h4",{className:"h5"},l.default._t("ModuleDetails.SECURITY_ALERTS","Security alerts")),a.default.createElement("ul",null,e.map((e=>a.default.createElement("li",{key:e.Identifier},a.default.createElement("a",{href:e.ExternalLink,target:"_blank",rel:"noreferrer"},e.Identifier)))))):null}render(){const{dataSchema:{description:e,link:t,linkTitle:r,rating:n},detailsId:s}=this.props,u=`${s}-popover`,c=`${s}-trigger`;return a.default.createElement("div",{className:"package-summary__details"},a.default.createElement("button",{id:c,className:"package-summary__module-info-trigger btn btn-link edit-link",onClick:this.toggle},l.default._t("ModuleDetails.MODULE_INFO","Module info")),a.default.createElement(o.Popover,{id:u,target:c,placement:"bottom",className:"package-summary__details-popover",isOpen:this.state.popoverOpen,toggle:this.toggle},a.default.createElement(o.PopoverHeader,{className:"package-summary__details-header"},a.default.createElement("span",{className:"package-summary__details-header-text"},l.default._t("ModuleDetails.MODULE_INFO","Module info")),a.default.createElement(i.default,{link:t,rating:n})),a.default.createElement(o.PopoverBody,null,a.default.createElement("p",null,e),a.default.createElement("a",{href:t,title:r,target:"blank",rel:"noopener",className:"btn btn-secondary font-icon-info-circled"},a.default.createElement("span",{className:"btn__title"},l.default._t("ModuleDetails.MORE_INFO","More info"))),this.renderSecurityAlerts())))}}c.propTypes={detailsId:n.default.string.isRequired,dataSchema:n.default.shape({description:n.default.string,link:n.default.string,linkTitle:n.default.string,securityAlerts:n.default.array,rating:n.default.number})};t.default=c},20:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(594)),n=o(r(935)),l=o(r(923));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}class s extends a.Component{getSymbolClasses(){const{rating:e}=this.props;let t="health-indicator__symbol--grey";return e>=40&&(t="health-indicator__symbol--green"),(0,l.default)("health-indicator__symbol",t)}renderHalfSymbol(){const{rating:e}=this.props;return e>=40&&e<70?a.default.createElement("div",{className:"health-indicator__symbol--half"}):null}render(){const{rating:e,link:t}=this.props;return a.default.createElement("a",{href:`${t}#rating-breakdown`,className:"health-indicator",target:"_blank",rel:"noreferrer"},a.default.createElement("div",{className:this.getSymbolClasses()},this.renderHalfSymbol()),a.default.createElement("p",null,e,"/100"))}}s.propTypes={link:n.default.string,rating:n.default.number},s.defaultProps={rating:0};t.default=s},421:function(){window.jQuery.entwine("ss",(e=>{e("#checkForUpdates").entwine({PollTimeout:null,onclick(){this.setLoading()},onmatch(){this.getButton(!0).length&&this.setLoading()},setLoading(){const t=this.getButton().data("message");e(".ss-gridfield-buttonrow").first().prepend(`<p class="alert alert-info">${t}</p>`),this.poll()},poll(){const t=this;e.ajax({url:t.getButton().data("check"),async:!0,success:e=>{t.clearLoading(JSON.parse(e))}})},getButton(e){let t="button";return e&&(t+=":disabled"),this.children(t).first()},clearLoading(t){!0===t?(clearTimeout(this.getPollTimeout()),this.setPollTimeout(setTimeout((()=>{e("#checkForUpdates").poll()}),5e3))):this.closest("fieldset.ss-gridfield").reload()}})}))},653:function(){window.jQuery.entwine("ss",(e=>{e(".gridfield-dropdown-filter select").entwine({onchange(){this.parent().find(".action").click()}})}))},739:function(e,t,r){var a=o(r(594)),n=r(145),l=o(r(117));function o(e){return e&&e.__esModule?e:{default:e}}window.jQuery.entwine("ss",(e=>{e(".js-injector-boot .package-summary__details-container").entwine({ReactRoot:null,onmatch(){const e=this.data("schema");let t=this.getReactRoot();t||(t=(0,n.createRoot)(this[0]),this.setReactRoot(t)),t.render(a.default.createElement(l.default,{detailsId:this.attr("id"),dataSchema:e}))},onunmatch(){const e=this.getReactRoot();e&&(e.unmount(),this.setReactRoot(null))}}),e(".site-summary .ss-gridfield-item").entwine({onclick(t){e(t.target).is("button")||(this.data("popover-open")?this.data("popover-open",!1):(this.data("popover-open",!0),this.find(".package-summary__module-info-trigger").click()))}})}))},935:function(e){e.exports=PropTypes},594:function(e){e.exports=React},145:function(e){e.exports=ReactDomClient},556:function(e){e.exports=Reactstrap},923:function(e){e.exports=classnames},815:function(e){e.exports=i18n}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,r),l.exports}r(421),r(653),r(739)}();