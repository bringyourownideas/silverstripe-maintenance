!function(){"use strict";var e={774:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(a(363)),n=s(a(86)),l=s(a(754)),o=a(127),i=s(a(842));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}class c extends r.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.state={popoverOpen:!1}}toggle(e){return this.setState({popoverOpen:!this.state.popoverOpen}),e.preventDefault(),!1}renderSecurityAlerts(){const{securityAlerts:e}=this.props.dataSchema;return e&&e.length?r.default.createElement("div",{className:"package-summary__security-alerts alert alert-warning"},r.default.createElement("h4",{className:"h5"},l.default._t("ModuleDetails.SECURITY_ALERTS","Security alerts")),r.default.createElement("ul",null,e.map((e=>r.default.createElement("li",{key:e.Identifier},r.default.createElement("a",{href:e.ExternalLink,target:"_blank",rel:"noreferrer"},e.Identifier)))))):null}render(){const{dataSchema:{description:e,link:t,linkTitle:a,rating:n},detailsId:s}=this.props,u=`${s}-popover`,c=`${s}-trigger`;return r.default.createElement("div",{className:"package-summary__details"},r.default.createElement("button",{id:c,className:"package-summary__module-info-trigger btn btn-link edit-link",onClick:this.toggle},l.default._t("ModuleDetails.MODULE_INFO","Module info")),r.default.createElement(o.Popover,{id:u,target:c,placement:"bottom",className:"package-summary__details-popover",isOpen:this.state.popoverOpen,toggle:this.toggle},r.default.createElement(o.PopoverHeader,{className:"package-summary__details-header"},r.default.createElement("span",{className:"package-summary__details-header-text"},l.default._t("ModuleDetails.MODULE_INFO","Module info")),r.default.createElement(i.default,{link:t,rating:n})),r.default.createElement(o.PopoverBody,null,r.default.createElement("p",null,e),r.default.createElement("a",{href:t,title:a,target:"blank",rel:"noopener",className:"btn btn-secondary font-icon-info-circled"},r.default.createElement("span",{className:"btn__title"},l.default._t("ModuleDetails.MORE_INFO","More info"))),this.renderSecurityAlerts())))}}c.propTypes={detailsId:n.default.string.isRequired,dataSchema:n.default.shape({description:n.default.string,link:n.default.string,linkTitle:n.default.string,securityAlerts:n.default.array,rating:n.default.number})};var d=c;t.default=d},842:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(a(363)),n=o(a(86)),l=o(a(820));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}class s extends r.Component{getSymbolClasses(){const{rating:e}=this.props;let t="health-indicator__symbol--grey";return e>=40&&(t="health-indicator__symbol--green"),(0,l.default)("health-indicator__symbol",t)}renderHalfSymbol(){const{rating:e}=this.props;return e>=40&&e<70?r.default.createElement("div",{className:"health-indicator__symbol--half"}):null}render(){const{rating:e,link:t}=this.props;return r.default.createElement("a",{href:`${t}#rating-breakdown`,className:"health-indicator",target:"_blank",rel:"noreferrer"},r.default.createElement("div",{className:this.getSymbolClasses()},this.renderHalfSymbol()),r.default.createElement("p",null,e,"/100"))}}s.propTypes={link:n.default.string,rating:n.default.number},s.defaultProps={rating:0};var u=s;t.default=u},973:function(){window.jQuery.entwine("ss",(e=>{e("#checkForUpdates").entwine({PollTimeout:null,onclick(){this.setLoading()},onmatch(){this.getButton(!0).length&&this.setLoading()},setLoading(){const t=this.getButton().data("message");e(".ss-gridfield-buttonrow").first().prepend(`<p class="alert alert-info">${t}</p>`),this.poll()},poll(){const t=this;e.ajax({url:t.getButton().data("check"),async:!0,success:e=>{t.clearLoading(JSON.parse(e))}})},getButton(e){let t="button";return e&&(t+=":disabled"),this.children(t).first()},clearLoading(t){!0===t?(clearTimeout(this.getPollTimeout()),this.setPollTimeout(setTimeout((()=>{e("#checkForUpdates").poll()}),5e3))):this.closest("fieldset.ss-gridfield").reload()}})}))},945:function(){window.jQuery.entwine("ss",(e=>{e(".gridfield-dropdown-filter select").entwine({onchange(){this.parent().find(".action").click()}})}))},327:function(e,t,a){var r=o(a(363)),n=a(745),l=o(a(774));function o(e){return e&&e.__esModule?e:{default:e}}window.jQuery.entwine("ss",(e=>{e(".js-injector-boot .package-summary__details-container").entwine({ReactRoot:null,onmatch(){const e=this.data("schema");let t=this.getReactRoot();t||(t=(0,n.createRoot)(this[0]),this.setReactRoot(t)),t.render(r.default.createElement(l.default,{detailsId:this.attr("id"),dataSchema:e}))},onunmatch(){const e=this.getReactRoot();e&&(e.unmount(),this.setReactRoot(null))}}),e(".site-summary .ss-gridfield-item").entwine({onclick(t){e(t.target).is("button")||(this.data("popover-open")?this.data("popover-open",!1):(this.data("popover-open",!0),this.find(".package-summary__module-info-trigger").click()))}})}))},745:function(e,t,a){var r=a(394);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},86:function(e){e.exports=PropTypes},363:function(e){e.exports=React},394:function(e){e.exports=ReactDom},127:function(e){e.exports=Reactstrap},820:function(e){e.exports=classnames},754:function(e){e.exports=i18n}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,a),l.exports}a(973),a(945),a(327)}();